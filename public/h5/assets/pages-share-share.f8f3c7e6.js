import{j as e,ac as t,ad as a,l as s,G as o,o as r,c as i,w as l,i as n,f as u,g as d,t as c,h as f,p as h,z as p,u as m}from"./index-be7fe8a3.js";import{_ as g}from"./uni-card.431afcaf.js";import{r as _}from"./uni-app.es.63fa007f.js";import{_ as y}from"./uni-section.f9bbaa6a.js";import{_ as x}from"./uni-link.3d1cd7fa.js";import{p as I}from"./util.ff018e21.js";import{_ as b}from"./_plugin-vue_export-helper.1b428a4d.js";const w=b({data:()=>({login:!1,shareInfo:{},qr:{src:"/static/qr.png"}}),onLoad(t){t.uid&&this.getShareinfo(t.uid),e().globalData.myAuth.uid?this.login=!0:this.login=!1},onShow(){},components:{},methods:{saveQrcode(){t({tempFilePath:"/static/qr.png",success:function(e){e.savedFilePath}})},setCopyUrl(){a({data:e().globalData.upUrl+"h5/#/pages/member/index",success:function(){s({title:"复制成功"})}})},getShareinfo(t){let a=this,o={};o.uid=t,I(e().globalData.eyUrl+"share/getData",o).then((e=>{let t=e.data;"1"==t.code?(a.shareInfo=t.data,a.seRenderShow()):"0"==t.code&&s({title:t.msg})}))},seRenderShow(){let e=this;this.shareInfo.url&&(o({title:this.shareInfo.title}),0==this.login&&setTimeout((function(){window.location.href=e.shareInfo.url}),12e3))}}},[["render",function(e,t,a,s,o,I){const b=f,w=_(h("uni-card"),g),j=n,k=p,q=m,v=_(h("uni-section"),y),S=_(h("uni-link"),x);return r(),i(j,{class:"container"},{default:l((()=>[o.login?(r(),i(v,{key:0,title:"请点击右角上铵钮分享",type:"line"},{default:l((()=>[u(w,{title:o.shareInfo.title,extra:""},{default:l((()=>[u(b,{class:"uni-body"},{default:l((()=>[d(c(o.shareInfo.content),1)])),_:1})])),_:1},8,["title"]),u(w,{style:{"background-color":"wheat",margin:"20rpx"},isFull:"true"},{default:l((()=>[u(j,null,{default:l((()=>[u(b,{class:"uni-h6"},{default:l((()=>[d("在微信登录的，可直接右上角转发推广，如果您是桌面APP登录，可截屏到微信读取二维码。推广注册后可以每天领取金币。")])),_:1})])),_:1})])),_:1}),u(k,{type:"primary",onClick:t[0]||(t[0]=e=>I.setCopyUrl())},{default:l((()=>[d("复制链接")])),_:1}),u(j,{class:"qrimg"},{default:l((()=>[u(j,{class:"qrimg-i"},{default:l((()=>[u(q,{style:{"text-align":"center",width:"200px",height:"200px","background-color":"#eeeeee"},"show-menu-by-longpress":"true",src:o.qr.src,onError:e.imageError},null,8,["src","onError"])])),_:1})])),_:1})])),_:1})):(r(),i(w,{key:1,title:o.shareInfo.title,extra:""},{default:l((()=>[u(b,{class:"uni-body"},{default:l((()=>[d(c(o.shareInfo.content),1)])),_:1}),u(j,{style:{padding:"20px"}},{default:l((()=>[u(S,{showUnderLine:"false","font-size":"20",href:o.shareInfo.url,text:"马上注册",color:"blue"},null,8,["href"])])),_:1})])),_:1},8,["title"]))])),_:1})}],["__scopeId","data-v-9a0ee502"]]);export{w as default};
