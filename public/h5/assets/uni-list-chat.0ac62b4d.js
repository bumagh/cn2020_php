import{o as t,c as a,w as e,f as i,e as s,a as l,F as n,b as r,n as c,g as d,t as h,d as o,r as u,a5 as g,i as _,u as p,h as f}from"./index-be7fe8a3.js";import{_ as m}from"./_plugin-vue_export-helper.1b428a4d.js";const b=m({name:"UniListChat",emits:["click"],props:{title:{type:String,default:""},note:{type:String,default:""},clickable:{type:Boolean,default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},badgeText:{type:[String,Number],default:""},badgePositon:{type:String,default:"right"},time:{type:String,default:""},avatarCircle:{type:Boolean,default:!1},avatar:{type:String,default:""},avatarList:{type:Array,default:()=>[]}},computed:{isSingle(){if("dot"===this.badgeText)return"uni-badge--dot";return this.badgeText.toString().length>1?"uni-badge--complex":"uni-badge--single"},computedAvatar(){return this.avatarList.length>4?(this.imageWidth=13.95,"avatarItem--3"):this.avatarList.length>1?(this.imageWidth=21.15,"avatarItem--2"):(this.imageWidth=45,"avatarItem--1")}},data:()=>({isFirstChild:!1,border:!0,imageWidth:50}),mounted(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0),this.border=this.list.border)},methods:{getForm(t="uniList"){let a=this.$parent,e=a.$options.name;for(;e!==t;){if(a=a.$parent,!a)return!1;e=a.$options.name}return a},onClick(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},openPage(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi(t){uni[t]({url:this.to,success:t=>{this.$emit("click",{data:t})},fail:t=>{this.$emit("click",{data:t}),console.error(t.errMsg)}})}}},[["render",function(m,b,v,x,k,y){const C=_,T=p,S=f;return t(),a(C,{"hover-class":v.clickable||v.link?"uni-list-chat--hover":"",class:"uni-list-chat",onClick:g(y.onClick,["stop"])},{default:e((()=>[i(C,{class:s({"uni-list--border":k.border,"uni-list-chat--first":k.isFirstChild})},null,8,["class"]),i(C,{class:"uni-list-chat__container"},{default:e((()=>[i(C,{class:"uni-list-chat__header-warp"},{default:e((()=>[v.avatarCircle||0===v.avatarList.length?(t(),a(C,{key:0,class:s(["uni-list-chat__header",{"header--circle":v.avatarCircle}])},{default:e((()=>[i(T,{class:s(["uni-list-chat__header-image",{"header--circle":v.avatarCircle}]),src:v.avatar,mode:"aspectFill"},null,8,["class","src"])])),_:1},8,["class"])):(t(),a(C,{key:1,class:"uni-list-chat__header"},{default:e((()=>[(t(!0),l(n,null,r(v.avatarList,((l,n)=>(t(),a(C,{key:n,class:s(["uni-list-chat__header-box",y.computedAvatar]),style:c({width:k.imageWidth+"px",height:k.imageWidth+"px"})},{default:e((()=>[i(T,{class:"uni-list-chat__header-image",style:c({width:k.imageWidth+"px",height:k.imageWidth+"px"}),src:l.url,mode:"aspectFill"},null,8,["style","src"])])),_:2},1032,["class","style"])))),128))])),_:1}))])),_:1}),v.badgeText&&"left"===v.badgePositon?(t(),a(C,{key:0,class:s(["uni-list-chat__badge uni-list-chat__badge-pos",[y.isSingle]])},{default:e((()=>[i(S,{class:"uni-list-chat__badge-text"},{default:e((()=>[d(h("dot"===v.badgeText?"":v.badgeText),1)])),_:1})])),_:1},8,["class"])):o("",!0),i(C,{class:"uni-list-chat__content"},{default:e((()=>[i(C,{class:"uni-list-chat__content-main"},{default:e((()=>[i(S,{class:"uni-list-chat__content-title uni-ellipsis"},{default:e((()=>[d(h(v.title),1)])),_:1}),i(S,{class:"uni-list-chat__content-note uni-ellipsis"},{default:e((()=>[d(h(v.note),1)])),_:1})])),_:1}),i(C,{class:"uni-list-chat__content-extra"},{default:e((()=>[u(m.$slots,"default",{},(()=>[i(S,{class:"uni-list-chat__content-extra-text"},{default:e((()=>[d(h(v.time),1)])),_:1}),v.badgeText&&"right"===v.badgePositon?(t(),a(C,{key:0,class:s(["uni-list-chat__badge",[y.isSingle,"right"===v.badgePositon?"uni-list-chat--right":""]])},{default:e((()=>[i(S,{class:"uni-list-chat__badge-text"},{default:e((()=>[d(h("dot"===v.badgeText?"":v.badgeText),1)])),_:1})])),_:1},8,["class"])):o("",!0)]),!0)])),_:3})])),_:3})])),_:3})])),_:3},8,["hover-class","onClick"])}],["__scopeId","data-v-0b029afc"]]);export{b as _};
