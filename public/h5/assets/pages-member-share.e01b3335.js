import{j as e,B as t,G as a,x as l,l as i,o as n,c as o,w as s,i as u,f as r,g as d,t as f,h as m,p as c,z as p,D as h,k as _}from"./index-be7fe8a3.js";import{_ as g}from"./uni-card.431afcaf.js";import{r as b}from"./uni-app.es.63fa007f.js";import{_ as y}from"./uni-easyinput.641b43d6.js";import{_ as I,a as j}from"./uni-forms.930af8b5.js";import{_ as x}from"./uni-link.3d1cd7fa.js";import{_ as k}from"./uni-section.f9bbaa6a.js";import{_ as V}from"./uni-fab.ad1d44b0.js";import{p as M}from"./util.ff018e21.js";import{_ as D}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.43709c62.js";const v=D({data:()=>({disInfo:{title:"",content:""},actMenu:e().globalData.actMenu}),onLoad(){this.disInfo=t("myShare")||{},a({title:"我的分享"})},methods:{clickActMenu(e){l({url:this.actMenu[e.index].route})},submitShare(){let t=e().globalData.myAuth;if(!t.uid)return i({icon:"none",title:"当前登录已过期，正在跳转激活"}),void l({url:"/pages/member/index"});if(String(this.disInfo.title).length<2)return void i({icon:"none",title:"标题过短"});let a={};a=this.disInfo,a.url=e().globalData.upUrl+"h5/#/pages/member/reg?invited="+t.username,M(e().globalData.eyUrl+"share/setData",a).then((e=>{let l=e.data;"1"==l.code?i({title:"编辑完成",success:function(){h("myShare",a),setTimeout((function(){_({url:"/pages/share/share?title="+a.title+"&uid="+t.uid})}),1e3)}}):"0"==l.code&&i({title:l.msg})}))}}},[["render",function(e,t,a,l,i,h){const _=m,M=u,D=b(c("uni-card"),g),v=b(c("uni-easyinput"),y),S=b(c("uni-forms-item"),I),w=b(c("uni-forms"),j),U=p,A=b(c("uni-link"),x),T=b(c("uni-section"),k),B=b(c("uni-fab"),V);return n(),o(M,{class:"container"},{default:s((()=>[r(D,{style:{"background-color":"wheat"},isFull:"true"},{default:s((()=>[r(M,null,{default:s((()=>[r(_,{class:"uni-h6"},{default:s((()=>[d("个人自编辑推广不得发布违法虚假内容，个人行为自行负责。")])),_:1})])),_:1})])),_:1}),r(w,{ref:"customForm",modelValue:i.disInfo,"label-position":"top"},{default:s((()=>[r(S,{label:"标题",required:"",name:"title"},{default:s((()=>[r(v,{modelValue:i.disInfo.title,"onUpdate:modelValue":t[0]||(t[0]=e=>i.disInfo.title=e),placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),r(S,{label:"内容"},{default:s((()=>[r(v,{type:"textarea",modelValue:i.disInfo.content,"onUpdate:modelValue":t[1]||(t[1]=e=>i.disInfo.content=e),placeholder:"请输入内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),r(U,{style:{"margin-top":"30px"},type:"primary",onClick:t[2]||(t[2]=e=>h.submitShare())},{default:s((()=>[d("确 认")])),_:1}),r(T,{title:"分享&推广预览",type:"line"},{default:s((()=>[r(D,{style:{"background-color":"wheat"}},{default:s((()=>[r(A,{href:i.disInfo.url,text:i.disInfo.title},null,8,["href","text"]),r(M,null,{default:s((()=>[r(_,{class:"uni-h6"},{default:s((()=>[d(f(i.disInfo.content),1)])),_:1})])),_:1})])),_:1})])),_:1}),r(B,{ref:"fab",content:i.actMenu,onTrigger:h.clickActMenu},null,8,["content","onTrigger"])])),_:1})}]]);export{v as default};
