import{j as a,x as t,s as e,l as n,m as i,o as s,c as l,w as r,i as u,f as o,g,a as c,b as p,F as m,p as d,t as f,u as _,h}from"./index-be7fe8a3.js";import{_ as k,a as b,b as j,c as y}from"./uni-table.ea491e78.js";import{r as x}from"./uni-app.es.63fa007f.js";import{_ as M}from"./uni-section.f9bbaa6a.js";import{_ as R}from"./uni-pagination.b2603419.js";import{_ as v}from"./uni-fab.ad1d44b0.js";import{p as w}from"./util.ff018e21.js";import{_ as I}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-datetime-picker.650746f4.js";import"./uni-icons.43709c62.js";const D=I({data:()=>({ranking:{limit:10},actMenu:a().globalData.actMenu,page:{}}),onLoad(){this.upUrl=a().globalData.upUrl,this.page.height=a().globalData.page.height-265,this.getRanking()},methods:{clickActMenu(a){t({url:this.actMenu[a.index].route})},changeRanking(a){this.ranking.page=a.current,this.getRanking()},getRanking(){e({title:"加载中"});let t=this,s={};s.page=this.ranking.page,s.limit=this.ranking.limit,s.count=this.ranking.count,s.type="point",w(a().globalData.eyUrl+"pocket/getRanking",s).then((a=>{let e=a.data;"1"==e.code?t.ranking=e:"0"==e.code?n({title:"暂无数据",icon:"error"}):n({title:"无搜索结果",icon:"error"})})),i()}}},[["render",function(a,t,e,n,i,w){const I=x(d("uni-th"),k),D=x(d("uni-tr"),b),U=_,z=x(d("uni-td"),j),T=u,A=h,C=x(d("uni-table"),y),F=x(d("uni-section"),M),S=x(d("uni-pagination"),R),B=x(d("uni-fab"),v);return s(),l(T,{class:"container"},{default:r((()=>[o(F,{title:"排行榜","sub-title":"",type:"line"},{default:r((()=>[o(C,{border:"",stripe:"",emptyText:"暂无更多数据"},{default:r((()=>[o(D,null,{default:r((()=>[o(I,{align:"center",width:"50"},{default:r((()=>[g("排行")])),_:1}),o(I,{align:"center"},{default:r((()=>[g("用户")])),_:1}),o(I,{align:"center",width:"80"},{default:r((()=>[g("贡献值")])),_:1})])),_:1}),(s(!0),c(m,null,p(i.ranking.data,((t,e)=>(s(),l(D,{key:e},{default:r((()=>[1==i.ranking.page&&e<3?(s(),l(z,{key:0},{default:r((()=>[o(U,{src:"/static/c"+(e+1)+".png",style:{height:"20px",width:"20px"}},null,8,["src"])])),_:2},1024)):(s(),l(z,{key:1,class:"numb"},{default:r((()=>[g(f(parseInt(i.ranking.page-1)*parseInt(i.ranking.limit)+parseInt(e+1)),1)])),_:2},1024)),t.name?(s(),l(z,{key:2},{default:r((()=>[o(T,{class:"member_head"},{default:r((()=>[o(U,{class:"member_avatar",src:a.upUrl+t.avatar,mode:""},null,8,["src"]),o(T,{class:"member_info"},{default:r((()=>[o(T,{class:"member_name"},{default:r((()=>[g(f(t.name),1)])),_:2},1024),o(T,{class:"member_sign"},{default:r((()=>[g(f(t.sign),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)):(s(),l(z,{key:3},{default:r((()=>[g("异常用户")])),_:1})),o(z,null,{default:r((()=>[o(A,{class:"numb"},{default:r((()=>[g(f(t.point),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),o(T,{style:{padding:"15px"}},{default:r((()=>[o(S,{onChange:w.changeRanking,total:i.ranking.count,pageSize:i.ranking.limit},null,8,["onChange","total","pageSize"])])),_:1}),o(B,{ref:"fab",content:i.actMenu,onTrigger:w.clickActMenu},null,8,["content","onTrigger"])])),_:1})}],["__scopeId","data-v-f33e2b1b"]]);export{D as default};
