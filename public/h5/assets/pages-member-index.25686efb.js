import{j as e,B as l,k as a,y as t,C as s,D as n,E as o,l as i,o as c,c as u,w as d,i as g,f as r,g as D,t as p,a as m,b as A,F as f,u as h,I as w,h as b,q as _,p as q}from"./index-be7fe8a3.js";import{_ as y}from"./uni-badge.81b1303d.js";import{r as U}from"./uni-app.es.63fa007f.js";import{g as k,p as v}from"./util.ff018e21.js";import{_ as x,a as C}from"./2.a22cdeff.js";import{_ as E}from"./_plugin-vue_export-helper.1b428a4d.js";const Q=""+new URL("logo-0604ed28.png",import.meta.url).href,F=""+new URL("account-3a3dca7b.png",import.meta.url).href,V=""+new URL("level-47e2ac71.png",import.meta.url).href,L=""+new URL("amount-1d57ca55.png",import.meta.url).href,I=""+new URL("xieyi-16aa165b.png",import.meta.url).href,N=""+new URL("help-8a2f7c55.png",import.meta.url).href,z=""+new URL("about-264bead3.png",import.meta.url).href,Y=""+new URL("setting-0cecb83f.png",import.meta.url).href;const M=E({data:()=>({loginfo:{record:!1,username:"",password:""},coin:{number:0,gets:[],max:5},myInvited:[],newMessage:0,qiandao:!1,upUrl:e().globalData.upUrl,productList:[1,2,3,4,5,6,7]}),onLoad(){this.loginfo=l("myAuth")||{},this.loginfo.uid&&(e().globalData.myAuth=this.loginfo)},onShow(){let a=this;this.loginfo=l("myAuth")||{},this.loginfo.name=e().globalData.myAuth.name,this.loginfo.avatar=e().globalData.myAuth.avatar,this.getMyInvited(),setTimeout((function(){a.getNewMessage()}),1500)},methods:{clickPocket(){a({url:"/pages/member/pocket"})},clickMessage(){a({url:"/pages/member/message"})},clickUserEdit(){a({url:"/pages/member/edit"})},clickEditSign(){a({url:"/pages/member/sign"})},clickTuiguang(){a({url:"/pages/member/share"})},clickLevelup(){let l=parseInt(e().globalData.myAuth.lvl),a=this;t({title:"会员等级提升",content:"提升当前等级需要消耗"+l*l*100+"金币,是否立即升级？",success:function(e){e.confirm&&a.setLevelup()}})},clickLogout(){t({content:"是否退出？",success:function(a){if(a.confirm){let a=l("myAuth")||{};s();let t={record:!0};t.username=a.username,n("myAuth",t),e().globalData.myAuth={},o({url:"/pages/member/index"})}}})},forgetPassword(){i({icon:"none",title:"请与管理员联系"})},setLevelup(){k(e().globalData.eyUrl+"member/setLevelup").then((a=>{let t=a.data;if("1"==t.code){i({title:"升级成功，请重新登录"}),e().globalData.myAuth={};let a={},t=l("myAuth")||{};return a.username=t.username,n("myAuth",a),void o({url:"/pages/member/index"})}"0"!=t.code||i({icon:"none",title:t.msg})}))},getNewMessage(){let l=this;v(e().globalData.eyUrl+"message/getnew",{}).then((e=>{let a=e.data;"1"==a.code&&(l.newMessage=a.data)}))},getMyInvited(){let l=this;v(e().globalData.eyUrl+"member/getinvited",{}).then((e=>{let a=e.data;"1"==a.code?(l.myInvited=a.data,a.getcoin.length>0?(l.coin.gets=a.getcoin,l.coin.max=l.coin.gets.length):l.coin.max=0,a.coin&&(l.coin.number=a.coin)):a.code}))},getCoin(l){if(this.coin.max>=5)return void i({icon:"none",title:"今天收取已达5次上限，请明日再来。"});let a=this,t={};t=l,v(e().globalData.eyUrl+"pocket/getCoin",t).then((e=>{let l=e.data;"1"==l.code?(a.coin.gets=l.data,a.coin.max=l.data.length,l.coin&&(a.coin.number=l.coin),i({title:"已成功收取"})):l.code}))},setQiandao(){let l=this;k(e().globalData.eyUrl+"signin").then((e=>{let a=e.data;"1"==a.code?(i({icon:"none",title:"今天已完成签到"}),l.qiandao=!0,a.coin&&(l.coin.number=a.coin)):a.code}))},cancelInvited(l){let a=this,s={};s=l,t({content:"是否解绑该用户？",success:function(l){l.confirm?v(e().globalData.eyUrl+"member/cancelinvited",s).then((e=>{let l=e.data;if("1"==l.code){for(var t in a.myInvited)if(a.myInvited[t].uid==l.data){a.myInvited.splice(t,1);break}}else l.code})):l.cancel}})},agreementSuccess(){this.loginfo.record=!this.loginfo.record},bindLogin(){(String(this.loginfo.username).length<6||String(this.loginfo.username).length>8)&&11!=String(this.loginfo.username).length?i({icon:"none",title:"请输入入6-8位数字帐号或手机号"}):String(this.loginfo.password).length<6?i({icon:"none",title:"请输入入6位字符以上的密码"}):v(e().globalData.eyUrl+"member/login",this.loginfo).then((l=>{let a=l.data;"1"==a.code?(a.data.record=this.loginfo.record,e().globalData.myAuth=a.data,n("myAuth",a.data),i({icon:"none",title:"登录成功"}),o({url:"/pages/member/index"})):"0"==a.code&&i({title:"登录失败",icon:"error",duration:1e3})}))}}},[["render",function(e,l,a,t,s,n){const o=h,i=g,k=w,v=b,E=_,M=U(q("uni-badge"),y);return s.loginfo.uid?(c(),u(i,{key:1,class:"main",style:{"background-color":"#e4ecf7","min-height":"100vh"}},{default:d((()=>[r(i,{class:"user_header_box"},{default:d((()=>[r(i,{class:"avatar_box"},{default:d((()=>[r(o,{class:"img",src:s.upUrl+s.loginfo.avatar,mode:""},null,8,["src"])])),_:1}),r(i,{class:"user_info"},{default:d((()=>[r(i,{class:"name"},{default:d((()=>[D(" 称呼："),r(v,null,{default:d((()=>[D(p(s.loginfo.name),1)])),_:1})])),_:1}),r(i,{class:"uid"},{default:d((()=>[D(" 帐号："+p(s.loginfo.username),1)])),_:1})])),_:1})])),_:1}),r(i,{class:"user_amount_box"},{default:d((()=>[r(i,{class:"user_level"},{default:d((()=>[r(o,{class:"icon",src:"data:image/png;base64,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"}),r(i,{class:"level_desc_box"},{default:d((()=>[r(i,{class:"title"},{default:d((()=>[D(" 当前等级："+p(s.loginfo.lvl),1)])),_:1})])),_:1}),r(E,{class:"right_nav",url:"/pages/member/setinvited"},{default:d((()=>[r(v,{class:"right_text"},{default:d((()=>[D("绑定设置")])),_:1})])),_:1}),r(o,{class:"right_icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAWCAYAAAD0OH0aAAABMklEQVQ4jZWUoU7EQBCGv+XqQUEC9oIEwVVhigYMISHhcNh7ANxkFAbJI3CqOO4F1uIAi+Pu9IEAcQlFdJtM2u01rNp/83+df6fTuqIoUNVDYCkiz3SsnnPuCPDAtff+Lsuy5SpgDRiZ/YuqbnQB58Bj0H3gTVW32gBXFAUAqjoGLsP5HOiLyE+sAgAiMgQmQW4Dr6q63goE6BTIa/E2o5HsUtUHYBjkDNgVke9GBVPpysTbwXQvWsFUyim7CDAF0pVAgG6BmyC/opFqy1mRdDy9EakVUNUn4CTIdyAVkUUUCG+9Ms+A/aqtDaAW4wMYVOYGoKoT4NjEGIjIp/Ukxjw25jmwFxu+nnPOee9z4CKcTYEDEVnE7pdQfgtnJkbaZoZylu7D/peyG61mCLP0n5/AH/hFe7lmjjjWAAAAAElFTkSuQmCC",mode:""})])),_:1}),r(i,{class:"amount_box"},{default:d((()=>[r(i,{class:"amount"},{default:d((()=>[D(p(s.coin.number)+" ",1),r(v,{style:{"font-size":"26rpx"}},{default:d((()=>[D("金币")])),_:1})])),_:1}),0==s.qiandao?(c(),u(i,{key:0,class:"now_with",onClick:l[3]||(l[3]=e=>n.setQiandao())},{default:d((()=>[D(" 签到 ")])),_:1})):(c(),u(i,{key:1,class:"now_with2"},{default:d((()=>[D(" 已签到 ")])),_:1}))])),_:1})])),_:1}),r(i,{class:"user_tab_box"},{default:d((()=>[r(i,{class:"tab_title"},{default:d((()=>[D(" 常用服务 ")])),_:1}),r(i,{class:"tab_list_box"},{default:d((()=>[r(i,{class:"list_item",onClick:l[4]||(l[4]=e=>n.clickUserEdit())},{default:d((()=>[r(o,{class:"icon",src:F,mode:""}),r(i,{class:"text"},{default:d((()=>[D("资料")])),_:1})])),_:1}),r(i,{class:"list_item",onClick:l[5]||(l[5]=e=>n.clickLevelup())},{default:d((()=>[r(o,{class:"icon",src:V,mode:""}),r(i,{class:"text"},{default:d((()=>[D("升级")])),_:1})])),_:1}),r(i,{class:"list_item",onClick:l[6]||(l[6]=e=>n.clickPocket())},{default:d((()=>[r(o,{class:"icon",src:L,mode:""}),r(i,{class:"text"},{default:d((()=>[D("钱包")])),_:1})])),_:1}),r(i,{class:"list_item",onClick:l[7]||(l[7]=e=>n.clickMessage())},{default:d((()=>[s.newMessage>0?(c(),u(M,{key:0,class:"uni-badge-left-margin","custom-style":"{position:absolute;margin:-60px 20px;}",text:s.newMessage,size:"small"},{default:d((()=>[r(o,{class:"icon",src:I,mode:""}),r(i,{class:"text"},{default:d((()=>[D("消息")])),_:1})])),_:1},8,["text"])):(c(),u(o,{key:1,class:"icon",src:I,mode:""})),r(i,{class:"text"},{default:d((()=>[D("消息")])),_:1})])),_:1}),r(i,{class:"list_item"},{default:d((()=>[r(E,{class:"right_nav",url:"/pages/member/setinvited"},{default:d((()=>[r(o,{class:"icon",src:N,mode:""}),r(i,{class:"text"},{default:d((()=>[D("绑定设置")])),_:1})])),_:1})])),_:1}),r(i,{class:"list_item",onClick:l[8]||(l[8]=e=>n.clickTuiguang())},{default:d((()=>[r(o,{class:"icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAB+1BMVEVHcEz/pAD/qAD/qgD/pAD/qAD/qgD/qAD/pwD/ogD/pQD/gAD/oQD/AAD/qAD/qgD/kgD/pwD/mQD/qAD/qgD/pQD/pwD/pgD/pwD/qAD/gAD/pgD/pwD/pQD/pwD/owD/pgD/pQD/pwD/pwD/nwD/pgD/pQD/qAD/qAD/pwD/owD/qAD/qAD/qgD/qAD/pwD/pwD/ogD/pwD/qAD/qAD/pQD/gAD/pgD/pwD/qAD/qAD/pwD/owD/nQD/qAD/pwD/pwD/pQD/qAD/pgD/qAD/qAD/pAD/pwD/pgD/qgD/pwD/pwD/rwD/pwD/pwD/pAD/pwD/qgD/pwD/tgD/pwD/qAD/qAD/pgD/pwD/pwD/qgD/pwD/qAD/pgD/qAD/pwD/qAD/pQD/qAD/ngD/qgD/oQD/pwD/ogD/pwD/qAD/pgD/pgD/qAD/pgD/pwD/pwD/qAD/pwD/pwD/pwD/vwD/ogD/pwD/pwD/pwD/qAD/oAD/pwD/pQD/pQD/qAD/pgD/ogD/pQD/pgD/qAD/pwD/qAD/pwD/pAD/pgD/pQD/qAD/pwD/qAD/pwD/pwD/jgD/qAD/qAD/pwD/mQD/qAD/pwD/pwD/qAD/qAD/pgD/qAD/pQD/pAD/pwD/pgD/pgD/qAD/qAD/nwD/qAD/pwD/pgD/pgD/qAD/qADCrBhOAAAAqHRSTlMAHN4DONge4dceNgITAc0YB9EF7Qkf6Bfd8wQUwzPzGUgR7rkYLiXfwcgn59kG5IPlIez09SIITU4suJEkDdXFvE+fKPbHO51qFZSTEBrZLeAhVwea7zV5YLQtHfeY1uL5SpIVGxv3FvRpfp6tUF2L8suz2gQLjlrAxSMgRHfidilHZODmZMdGRT4jf8q2rQmzzFQP3Dcx+JhhUlIOvYR47rwIeKanlZXI+K2QAAACH0lEQVQ4y2NgoBPgccuSMUrL0KvoduMhoLTE35tJWFgvgL1FWJjJW1UIn9pgx0ITg5xMFhutTo8+A+OJk/pxqxXIK5YrUvAUALM9FSYYT4kQwKWWW4G1IF+UGcZlNrSW9FPgxq6WV83exUseWcTXy8VejRerYlt9SQcbVKEuB0l9W6yKtezEctEs5XYUs9PC6rsmJWV+dEEVZeFWbH5UdAqtFUEXFKlXclLEoljeVawRwzO8Ndqu8lgUs/nVqWKKNrDrsGFRbMikXoUpGsgkUY1FsahOszOmqDM7BycWxb5t2h2Ybm7XrsTmZp8QpXDM0AhXCvHBolg3wggznPmVjWbqYosVNUGxWegxOFtMUA1rdC9aHDo3EC2EFi6YH4xFqZSKaaKE5LzJyGJz9CUlEk1VpNDVmllYMcUnrDAIQspJQkF6KxLimawszNDMNecwYWKN42B1F0cIiruzcsSxqhtzmDOjKGaMjIm1ZONkE2VENplRFChkOWN6rziKYlWmgChcuc1fQsIURSCMnTUal2LFsmwVFAEudlY2nPlYUZqZaMXMPDzEK5a2tpYmWnGqjEwq0Yr5NTT4iVLMnMzIKKupKcvIKE5YMc9yPj5BOTlBPr6lRCheBlO8hExn4ItBDA+qMqnjTBspMjIp2FIdGhBlLAXmd+mkJGks6ZkDDej0lOtiiW5QTlFnxwCsHiJYXSbFOW0qCzqQTeemV5UKAH4NW+h7py3nAAAAAElFTkSuQmCC",mode:""}),r(i,{class:"text"},{default:d((()=>[D("推广")])),_:1})])),_:1}),r(i,{class:"list_item",onClick:l[9]||(l[9]=e=>n.clickEditSign())},{default:d((()=>[r(o,{class:"icon",src:z,mode:""}),r(i,{class:"text"},{default:d((()=>[D("个人广告")])),_:1})])),_:1}),r(i,{class:"list_item",onClick:l[10]||(l[10]=e=>n.clickLogout())},{default:d((()=>[r(o,{class:"icon",src:Y,mode:""}),r(i,{class:"text"},{default:d((()=>[D("退出")])),_:1})])),_:1})])),_:1})])),_:1}),r(i,{class:"loan_box"},{default:d((()=>[r(i,{class:"loan_title_box"},{default:d((()=>[r(i,{class:"title"},{default:d((()=>[D(" 我的推广 ")])),_:1})])),_:1}),r(i,{class:"loan_list"},{default:d((()=>[(c(!0),m(f,null,A(s.myInvited,((e,l)=>(c(),u(i,{class:"list_item",key:l},{default:d((()=>[r(i,{class:"item_head"},{default:d((()=>[r(o,{class:"pic",src:s.upUrl+e.avatar,mode:""},null,8,["src"]),r(i,{class:"loan_info"},{default:d((()=>[r(i,{class:"name"},{default:d((()=>[D(p(e.name),1)])),_:2},1024),r(i,{class:"date"},{default:d((()=>[D(" ID:"+p(e.username)+" ["+p(e.lvl)+"级] ",1)])),_:2},1024)])),_:2},1024),r(i,{class:"join_btn",onClick:l=>n.cancelInvited(e)},{default:d((()=>[D(" 解绑 ")])),_:2},1032,["onClick"]),-1!=s.coin.gets.indexOf(e.uid)?(c(),u(i,{key:0,class:"disabled_btn"},{default:d((()=>[D(" 已收取 ")])),_:1})):(c(),u(i,{key:1,class:"join_btn",onClick:l=>n.getCoin(e)},{default:d((()=>[D(" 收取 ")])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),r(i,{class:"foot_line"},{default:d((()=>[r(i,{class:"line"}),r(v,{style:{margin:"0 20rpx","font-size":"28rpx"}},{default:d((()=>[D("我是有底线的")])),_:1}),r(i,{class:"line"})])),_:1})])),_:1})):(c(),u(i,{key:0,class:"login"},{default:d((()=>[r(i,{class:"header"},{default:d((()=>[r(o,{src:Q})])),_:1}),r(i,{class:"list"},{default:d((()=>[r(i,{class:"list-call"},{default:d((()=>[r(o,{class:"img",src:x}),r(k,{class:"sl-input",modelValue:s.loginfo.username,"onUpdate:modelValue":l[0]||(l[0]=e=>s.loginfo.username=e),type:"number",maxlength:"11",placeholder:"输入数字帐号或手机号"},null,8,["modelValue"])])),_:1}),r(i,{class:"list-call"},{default:d((()=>[r(o,{class:"img",src:C}),r(k,{class:"sl-input",modelValue:s.loginfo.password,"onUpdate:modelValue":l[1]||(l[1]=e=>s.loginfo.password=e),type:"text",maxlength:"32",placeholder:"输入密码",password:"true"},null,8,["modelValue"])])),_:1}),r(i,{class:"agreement"},{default:d((()=>[r(o,{onClick:n.agreementSuccess,src:1==s.loginfo.record?"/static/shilu-login/ty1.png":"/static/shilu-login/ty0.png"},null,8,["onClick","src"]),r(v,{onClick:n.agreementSuccess},{default:d((()=>[D(" 保留当前登录")])),_:1},8,["onClick"])])),_:1})])),_:1}),r(i,{class:"button-login","hover-class":"button-hover",onClick:l[2]||(l[2]=e=>n.bindLogin())},{default:d((()=>[r(v,null,{default:d((()=>[D("登录")])),_:1})])),_:1}),r(i,{class:"agreement"},{default:d((()=>[r(E,{url:"/pages/member/forget","open-type":"navigate"},{default:d((()=>[D("忘记密码")])),_:1}),r(v,null,{default:d((()=>[D("|")])),_:1}),r(E,{url:"reg","open-type":"navigate"},{default:d((()=>[D("注册账户")])),_:1})])),_:1})])),_:1}))}],["__scopeId","data-v-b4a459bd"]]);export{M as default};
