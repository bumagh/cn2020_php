import{j as t,x as e,l as n,H as a,o,c as i,w as s,i as l,f as u,g as r,p as c,z as d}from"./index-be7fe8a3.js";import{_ as p}from"./uni-easyinput.641b43d6.js";import{r as m}from"./uni-app.es.63fa007f.js";import{_ as f}from"./uni-fab.ad1d44b0.js";import{p as g}from"./util.ff018e21.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.43709c62.js";const j=h({data:()=>({disInfo:{content:""},actMenu:t().globalData.actMenu}),methods:{clickActMenu(t){e({url:this.actMenu[t.index].route})},input(t){this.disInfo.content=t.detail.value},submitDiscuz(){if(this.disInfo.content.length<2)return void n({icon:"none",title:"内容过少"});let e={module:"discuz"};e.content=this.disInfo.content,g(t().globalData.eyUrl+"discuz/setData",e).then((t=>{let e=t.data;"1"==e.code?(n({title:"发表成功"}),a()):"0"==e.code&&n({icon:"none",title:e.msg})}))}}},[["render",function(t,e,n,a,g,h){const j=m(c("uni-easyinput"),p),x=d,b=m(c("uni-fab"),f),y=l;return o(),i(y,{class:"container"},{default:s((()=>[u(j,{type:"textarea",modelValue:g.disInfo.content,"onUpdate:modelValue":e[0]||(e[0]=t=>g.disInfo.content=t),maxlength:"100",placeholder:"请输入内容"},null,8,["modelValue"]),u(x,{style:{"margin-top":"30px"},type:"primary",onClick:e[1]||(e[1]=t=>h.submitDiscuz())},{default:s((()=>[r("我要发布")])),_:1}),u(b,{ref:"fab",content:g.actMenu,onTrigger:h.clickActMenu},null,8,["content","onTrigger"])])),_:1})}]]);export{j as default};
